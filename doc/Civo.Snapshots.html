<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.21.2">
    <meta name="project" content="civo v0.1.1">
    <title>Civo.Snapshots â€” civo v0.1.1</title>
    <link rel="stylesheet" href="dist/html-de2388dc2f8074b0a4db.css" />
    <script src="dist/sidebar_items-5be114019a.js"></script>
      <script src="docs_config.js"></script>
    <script async src="dist/html-de2388dc2f8074b0a4db.js"></script>
  </head>
  <body data-type="modules">
    <script>try { if(localStorage.getItem('night-mode') === 'true') document.body.className += ' night-mode'; } catch (e) { }</script>
<div class="main">

<button class="sidebar-button sidebar-toggle">
  <span class="icon-menu" title="Collapse/expand sidebar"></span>
</button>

<section class="sidebar">
  <form class="sidebar-search" action="search.html">
    <button type="submit" class="search-button">
      <span class="icon-search" aria-hidden="true"></span>
    </button>
    <button type="button" tabindex="-1" class="search-close-button">
      <span class="icon-cross" title="Cancel search"></span>
    </button>
    <label class="search-label">
      <input name="q" type="text" id="search-list" class="search-input" placeholder="Search..." aria-label="Search" autocomplete="off" />
    </label>
  </form>

  <div class="autocomplete">
    <div class="autocomplete-results">
    </div>
  </div>

  <div class="sidebar-header">
    <div class="sidebar-projectDetails">
      <a href="readme.html" class="sidebar-projectName">
civo      </a>
      <h2 class="sidebar-projectVersion">
        v0.1.1
      </h2>
    </div>
      <a href="readme.html">
        <img src="assets/logo.png" alt="civo" class="sidebar-projectImage">
      </a>
  </div>

  <ul class="sidebar-listNav">
    <li><a id="extras-list" href="#full-list">Pages</a></li>

      <li><a id="modules-list" href="#full-list">Modules</a></li>


  </ul>
  <div class="gradient"></div>
  <ul id="full-list" class="sidebar-fullList"></ul>
</section>

<section class="content">
  <div class="content-outer">
    <div id="content" class="content-inner">

      <h1>
        <small class="app-vsn">civo v0.1.1</small>
Civo.Snapshots          <a href="https://github.com/Lazarus404/civo/blob/master/lib/civo/snapshots.ex#L1" title="View Source" class="view-source" rel="help">
            <span class="icon-code" aria-hidden="true"></span>
            <span class="sr-only">View Source</span>
          </a>
      </h1>


        <section id="moduledoc">
<p>Civo provides a backup service for Instances called snapshots. This takes 
an exact copy of the instance&#39;s virtual hard drive. At any point an 
instance can be restored to the state it was in when the snapshot was made. 
These snapshots can also be used to build a new instance to scale 
identically configured infrastructure.</p>
<p>As snapshot storage is chargeable, at any time these can be deleted. They 
can also be scheduled rather than immediately created, and if desired 
repeated at the same schedule each week (although the repeated snapshot 
will overwrite itself each week not keep multiple weekly snapshots).</p>
        </section>

        <section id="summary" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#summary">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
            Summary
          </h1>
  <div class="summary-types summary">
    <h2>
      <a href="#types">Types</a>
    </h2>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:t/0">t()</a>
  </div>
</div>
  </div>
  <div class="summary-functions summary">
    <h2>
      <a href="#functions">Functions</a>
    </h2>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#create/2">create(name, params)</a>
  </div>
    <div class="summary-synopsis"><p>Any user can create snapshots for their instances, this space 
is charged separately from their quota.</p></div>
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#delete/1">delete(name)</a>
  </div>
    <div class="summary-synopsis"><p>An account holder can remove a snapshot, freeing up 
the space used (and therefore the cost).</p></div>
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#list/0">list()</a>
  </div>
    <div class="summary-synopsis"><p>Lists all snapshots in an account.</p></div>
</div>
  </div>
        </section>

        <section id="types" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#types">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
Types          </h1>
          <div class="types-list">
<section class="detail" id="t:t/0">
  <div class="detail-header">
    <a href="#t:t/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">t()</h1>
      <a href="https://github.com/Lazarus404/civo/blob/master/lib/civo/snapshots.ex#L22" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
      <div class="specs">
          <pre>t() :: %{instance_id: <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>(), safe: <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">boolean</a>(), cron_timing: <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>()}</pre>
      </div>
  </div>
  <section class="docstring">
  </section>
</section>
          </div>
        </section>
        <section id="functions" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#functions">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
Functions          </h1>
          <div class="functions-list">
<section class="detail" id="create/2">
  <div class="detail-header">
    <a href="#create/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">create(name, params)</h1>
      <a href="https://github.com/Lazarus404/civo/blob/master/lib/civo/snapshots.ex#L70" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
      <div class="specs">
          <pre>create(<a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>(), <a href="#t:t/0">t</a>()) :: <a href="Civo.Response.html#t:t/0">Civo.Response.t</a>() | <a href="Civo.Error.html#t:t/0">Civo.Error.t</a>()</pre>
      </div>
  </div>
  <section class="docstring">
<p>Any user can create snapshots for their instances, this space 
is charged separately from their quota.</p>
<h3 id="create/2-request" class="section-heading">
  <a href="#create/2-request" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Request
</h3>

<p>The only required parameters are the instance ID and the 
snapshot name. Two optional parameters of safe and cron_timing 
can also be passed. If the snapshot already exists it will be 
overwritten.</p>
<table>
<thead>
<tr>
<th style="text-align: left">Name</th><th style="text-align: left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left"><code class="inline">id</code></td><td style="text-align: left">the id of the instance to create a snapshot of.</td>
</tr>
<tr>
<td style="text-align: left"><code class="inline">instance_id</code></td><td style="text-align: left">The ID of the instance to snapshot</td>
</tr>
<tr>
<td style="text-align: left"><code class="inline">safe</code></td><td style="text-align: left">If true the instance will be shut down during the snapshot to ensure all files are in a consistent state (e.g. database tables aren&#39;t in the middle of being optimised and hence risking corruption). The default is false so you experience no interruption of service, but a small risk of corruption.</td>
</tr>
<tr>
<td style="text-align: left"><code class="inline">cron_timing</code></td><td style="text-align: left">If a valid cron string is passed, the snapshot will be saved as an automated snapshot, continuing to automatically update based on the schedule of the cron sequence provided. The default is nil meaning the snapshot will be saved as a one-off snapshot.</td>
</tr>
</tbody>
</table>
<h3 id="create/2-response" class="section-heading">
  <a href="#create/2-response" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Response
</h3>

<p>The response is a JSON object that confirms the details given, 
with a null for snapshot_at (as it won&#39;t have been taken yet).</p>
<pre><code class="nohighlight makeup elixir"><span class="p" data-group-id="3805632148-1">{</span><span class="w">
  </span><span class="ss">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;0ca69adc-ff39-4fc1-8f08-d91434e86fac&quot;</span><span class="p">,</span><span class="w">
  </span><span class="ss">&quot;instance_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;44aab548-61ca-11e5-860e-5cf9389be614&quot;</span><span class="p">,</span><span class="w">
  </span><span class="ss">&quot;hostname&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;server1.prod.example.com&quot;</span><span class="p">,</span><span class="w">
  </span><span class="ss">&quot;template_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;0b213794-d795-4483-8982-9f249c0262b9&quot;</span><span class="p">,</span><span class="w">
  </span><span class="ss">&quot;openstack_snapshot_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="n">null</span><span class="p">,</span><span class="w">
  </span><span class="ss">&quot;region&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;lon1&quot;</span><span class="p">,</span><span class="w">
  </span><span class="ss">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;my-instance-snapshot&quot;</span><span class="p">,</span><span class="w">
  </span><span class="ss">&quot;safe&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="ss">&quot;size_gb&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="ss">&quot;state&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;new&quot;</span><span class="p">,</span><span class="w">
  </span><span class="ss">&quot;cron_timing&quot;</span><span class="p">:</span><span class="w"> </span><span class="n">null</span><span class="p">,</span><span class="w">
  </span><span class="ss">&quot;requested_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="n">null</span><span class="p">,</span><span class="w">
  </span><span class="ss">&quot;completed_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="n">null</span><span class="w">
</span><span class="p" data-group-id="3805632148-1">}</span></code></pre>
  </section>
</section>
<section class="detail" id="delete/1">
  <div class="detail-header">
    <a href="#delete/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">delete(name)</h1>
      <a href="https://github.com/Lazarus404/civo/blob/master/lib/civo/snapshots.ex#L132" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
      <div class="specs">
          <pre>delete(<a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>()) :: <a href="Civo.Response.html#t:t/0">Civo.Response.t</a>() | <a href="Civo.Error.html#t:t/0">Civo.Error.t</a>()</pre>
      </div>
  </div>
  <section class="docstring">
<p>An account holder can remove a snapshot, freeing up 
the space used (and therefore the cost).</p>
<h3 id="delete/1-request" class="section-heading">
  <a href="#delete/1-request" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Request
</h3>

<p>This request takes the name of the snapshot 
to delete. No confirmation step is required, this 
step will remove the snapshot immediately.</p>
<h3 id="delete/1-response" class="section-heading">
  <a href="#delete/1-response" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Response
</h3>

<p>The response from the server will be a JSON block. The response 
will include a result field and the HTTP status will be 202 
Accepted.</p>
<pre><code class="nohighlight makeup elixir"><span class="p" data-group-id="5893453115-1">{</span><span class="w">
  </span><span class="ss">&quot;result&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;success&quot;</span><span class="w">
</span><span class="p" data-group-id="5893453115-1">}</span></code></pre>
  </section>
</section>
<section class="detail" id="list/0">
  <div class="detail-header">
    <a href="#list/0" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">list()</h1>
      <a href="https://github.com/Lazarus404/civo/blob/master/lib/civo/snapshots.ex#L108" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
      <div class="specs">
          <pre>list() :: <a href="Civo.Response.html#t:t/0">Civo.Response.t</a>() | <a href="Civo.Error.html#t:t/0">Civo.Error.t</a>()</pre>
      </div>
  </div>
  <section class="docstring">
<p>Lists all snapshots in an account.</p>
<h3 id="list/0-request" class="section-heading">
  <a href="#list/0-request" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Request
</h3>

<p>This request takes no parameters.</p>
<h3 id="list/0-response" class="section-heading">
  <a href="#list/0-response" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Response
</h3>

<p>The response is a JSON array of objects that describes summary 
details for each instance.</p>
<pre><code class="nohighlight makeup elixir"><span class="p" data-group-id="7828596317-1">[</span><span class="w">
  </span><span class="p" data-group-id="7828596317-2">{</span><span class="w">
    </span><span class="ss">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;0ca69adc-ff39-4fc1-8f08-d91434e86fac&quot;</span><span class="p">,</span><span class="w">
    </span><span class="ss">&quot;instance_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;44aab548-61ca-11e5-860e-5cf9389be614&quot;</span><span class="p">,</span><span class="w">
    </span><span class="ss">&quot;hostname&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;server1.prod.example.com&quot;</span><span class="p">,</span><span class="w">
    </span><span class="ss">&quot;template_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;0b213794-d795-4483-8982-9f249c0262b9&quot;</span><span class="p">,</span><span class="w">
    </span><span class="ss">&quot;openstack_snapshot_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="n">null</span><span class="p">,</span><span class="w">
    </span><span class="ss">&quot;region&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;lon1&quot;</span><span class="p">,</span><span class="w">
    </span><span class="ss">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;my-instance-snapshot&quot;</span><span class="p">,</span><span class="w">
    </span><span class="ss">&quot;safe&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="ss">&quot;size_gb&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="ss">&quot;state&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;in-progress&quot;</span><span class="p">,</span><span class="w">
    </span><span class="ss">&quot;cron_timing&quot;</span><span class="p">:</span><span class="w"> </span><span class="n">null</span><span class="p">,</span><span class="w">
    </span><span class="ss">&quot;requested_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="n">null</span><span class="p">,</span><span class="w">
    </span><span class="ss">&quot;completed_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="n">null</span><span class="w">
  </span><span class="p" data-group-id="7828596317-2">}</span><span class="p">,</span><span class="w">
  </span><span class="o">/</span><span class="o">/</span><span class="w"> </span><span class="n">...</span><span class="w">
</span><span class="p" data-group-id="7828596317-1">]</span></code></pre>
  </section>
</section>
          </div>
        </section>
      <footer class="footer">
        <p>
          <span class="line">
            Built using
            <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener">ExDoc</a> (v0.21.2),
          </span>
          <span class="line">
            designed by
            <a href="https://twitter.com/dignifiedquire" target="_blank" rel="noopener" title="@dignifiedquire">Friedel Ziegelmayer</a>.
          </span>
        </p>
        <p>
          <button class="line footer-button night-mode-toggle">
            Toggle night mode
          </button>
          <button class="line footer-button tooltips-toggle">
            <span class="tooltips-option-disable">Disable tooltips</span>
            <span class="tooltips-option-enable">Enable tooltips</span>
          </button>
          <button class="line footer-button display-shortcuts-help">
            Display keyboard shortcuts
          </button>
          <button class="line footer-button display-quick-switch">
            Go to a HexDocs package
          </button>
        </p>
      </footer>
    </div>
  </div>
</section>
</div>
  </body>
</html>
